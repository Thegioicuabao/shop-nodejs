extends ../layouts/common
block Content
  h1 Products
  .d-flex
    form.ml-auto(action="/products/search", method="GET", class="d-flex")
      input(type="text", name="q", class="form-control")
      button.ml-2(class="btn btn-primary") Search
  .row
    each product in products
     .col-sm-3
        .card.mb-4
          img.card-img-top(src= product.image)
          .card-body
            h5.card-title= product.name
            p.card-tex= product.description
            a.btn.btn-primary(href='/cart/add/' + product.id) Add to cart
  if page
    if page === 1
      nav(aria-label='Page navigation example')
        ul.pagination
          li.page-item
            a.page-link(href='?page='+ (page)) Previous
          li.page-item
            a.page-link(href='?page='+ (page)) 1
          li.page-item
            a.page-link(href='?page='+ (page+1)) 2
          li.page-item
            a.page-link(href='?page='+ (page+2)) 3
          li.page-item
            a.page-link(href='?page='+ (page+1)) Next
    else
      nav(aria-label='Page navigation example')
        ul.pagination
          li.page-item
            a.page-link(href='?page='+ (page-1)) Previous
          li.page-item
            a.page-link(href='?page='+ (page-1))= page - 1
          li.page-item
            a.page-link(href='?page='+ (page))= page
          li.page-item
            a.page-link(href='?page='+ (page+1))= page + 1
          li.page-item
            a.page-link(href='?page='+ (page+1)) Next